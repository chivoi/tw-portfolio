"use strict";(globalThis.webpackChunktw_portfolio=globalThis.webpackChunktw_portfolio||[]).push([[629],{3566:(e,n,o)=>{o.d(n,{A:()=>t});const t=o.p+"assets/images/icollab-dev-portal-15417b61f60045029d287e72538cbb0e.png"},4163:e=>{e.exports=JSON.parse('{"permalink":"/guides/how-to-develop-3p-connectors","source":"@site/blog/how-to-develop-3p-connectors/index.mdx","title":"How To Develop 3P Connectors","description":"This is an internal developer how-to guide written at my previous workplace to help engineers set up their local environments for the 3P connector development.","date":"2025-11-18T20:28:51.000Z","tags":[],"readingTime":2.98,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"how-to-develop-3p-connectors","title":"How To Develop 3P Connectors"},"unlisted":false,"nextItem":{"title":"IntelliJ Idea setup for Ruby development","permalink":"/guides/intellij-idea-setup"}}')},5312:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>a});var t=o(4163),i=o(4848),r=o(8453);const s={slug:"how-to-develop-3p-connectors",title:"How To Develop 3P Connectors"},c=void 0,l={authorsImageUrls:[]},a=[{value:"\ud83d\udee0\ufe0f Setup steps \ud83d\udee0\ufe0f",id:"\ufe0f-setup-steps-\ufe0f",level:2},{value:"1. Update and launch IHCOS",id:"1-update-and-launch-ihcos",level:3},{value:"2. Enable the necessary feature flags in IHCOS",id:"2-enable-the-necessary-feature-flags-in-ihcos",level:3},{value:"3. Ensure your IHCOS Connector callback URI is allowed in your connector\u2019s Development Application",id:"3-ensure-your-ihcos-connector-callback-uri-is-allowed-in-your-connectors-development-application",level:3},{value:"4. Create an IHI integration",id:"4-create-an-ihi-integration",level:3},{value:"7. Run Service0 in dev mode",id:"7-run-service0-in-dev-mode",level:3},{value:"8. Devspace Service1",id:"8-devspace-service1",level:3},{value:"\ud83d\ude31 Troubleshooting \ud83d\ude31",id:"-troubleshooting-",level:2},{value:"\u26a0\ufe0f I get errors when running the connect OAuth flow",id:"\ufe0f-i-get-errors-when-running-the-connect-oauth-flow",level:3},{value:"\u26a0\ufe0f I don\u2019t see my connector in the UI",id:"\ufe0f-i-dont-see-my-connector-in-the-ui",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"This is an internal developer how-to guide written at my previous workplace to help engineers set up their local environments for the 3P connector development."}),"\n",(0,i.jsx)(n.p,{children:"It contained a lot of sensitive data that I had to edit out, the names of all services are changed and some sections are omitted completely out of respect to my former employer. The actual images from the guide were also replaced with AI-generated ones."}),"\n",(0,i.jsx)(n.p,{children:"I hope that despite all of the above, this guide sample is descriptive-enough as a portfolio piece \ud83d\ude05"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-setup-steps-\ufe0f",children:"\ud83d\udee0\ufe0f Setup steps \ud83d\udee0\ufe0f"}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"The ordering of the steps is intentional, please follow it for the best results, at least when setting up from scratch."})}),"\n",(0,i.jsx)(n.h3,{id:"1-update-and-launch-ihcos",children:"1. Update and launch IHCOS"}),"\n",(0,i.jsx)(n.p,{children:"Make sure you have the latest IHCOS version and no local changes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"$ IHCOS update\n"})}),"\n",(0,i.jsx)(n.p,{children:"Then run the launch command with the correct profile:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"$ IHCOS launch -p connectors-profile\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This should starts IHI, GIC, Service1 and other services you need for development. To see which exact services have been started, you can check ",(0,i.jsx)(n.code,{children:"path-to/service-profile.jsonnet"})," file in your IHCOS repo."]}),"\n",(0,i.jsx)(n.h3,{id:"2-enable-the-necessary-feature-flags-in-ihcos",children:"2. Enable the necessary feature flags in IHCOS"}),"\n",(0,i.jsx)(n.p,{children:"These are the feature flags needed for connector development:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"feature_flag1_<connector_name>"})," - to import it with connector SDK"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"feature_flag2_<connector_name>"}),"- to make it visible in the UI"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["For example: for an iCollab connector those would be ",(0,i.jsx)(n.code,{children:"feature_flag1_icollab"})," and ",(0,i.jsx)(n.code,{children:"feature_flag2_icollab"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"3-ensure-your-ihcos-connector-callback-uri-is-allowed-in-your-connectors-development-application",children:"3. Ensure your IHCOS Connector callback URI is allowed in your connector\u2019s Development Application"}),"\n",(0,i.jsxs)(n.p,{children:["This can be found in different places depending on a service and developer portal, but should be somewhere around ",(0,i.jsx)(n.code,{children:"Authentication > Redirect URI configuration"})," menu options or similar."]}),"\n",(0,i.jsx)(n.p,{children:"Here is what it looks like for iCollab-based connectors in iCollab portal:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"ICollab mock developer portal",src:o(3566).A+"",width:"1152",height:"768"})}),"\n",(0,i.jsxs)(n.p,{children:["Your IHCOS callback URI would look something like this: ",(0,i.jsx)(n.code,{children:"https://IHI.uri/example/callback"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"4-create-an-ihi-integration",children:"4. Create an IHI integration"}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"Steps four to six are ommitted from this guide example. They contained so much sensitive information that editing it out would render them meaningless. I promise, they were very nicely written out: code examples, images and everything \ud83d\ude01"})}),"\n",(0,i.jsx)(n.h3,{id:"7-run-service0-in-dev-mode",children:"7. Run Service0 in dev mode"}),"\n",(0,i.jsxs)(n.p,{children:["If you don't have Service0 set up yet, here is a ",(0,i.jsx)(n.a,{href:"#run-service0-in-dev-mode",children:"handy setup reference"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["In your terminal, in ",(0,i.jsx)(n.code,{children:"service0"})," directory, run:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"$ service0 run --mode development\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This will release your changes into your local Service1: you should see ",(0,i.jsx)(n.code,{children:"./path/to/<your-connector>"})," directory appear in Service1 directory once the command runs."]}),"\n",(0,i.jsx)(n.h3,{id:"8-devspace-service1",children:"8. Devspace Service1"}),"\n",(0,i.jsxs)(n.p,{children:["If you don't have Service1 set up yet, here is a ",(0,i.jsx)(n.a,{href:"#devspace-service1",children:"handy setup reference"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["In your terminal, in ",(0,i.jsx)(n.code,{children:"service1"})," directory, run:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"$ devspace dev\n"})}),"\n",(0,i.jsx)(n.p,{children:"This will integrate the changes that the previous step introduced."}),"\n",(0,i.jsx)(n.h2,{id:"-troubleshooting-",children:"\ud83d\ude31 Troubleshooting \ud83d\ude31"}),"\n",(0,i.jsx)(n.h3,{id:"\ufe0f-i-get-errors-when-running-the-connect-oauth-flow",children:"\u26a0\ufe0f I get errors when running the connect OAuth flow"}),"\n",(0,i.jsx)(n.p,{children:"If you get an error like this during the OAuth flow process:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Mock iCollab auth error",src:o(8389).A+"",width:"1152",height:"768"})}),"\n",(0,i.jsxs)(n.p,{children:["go back to ",(0,i.jsx)(n.a,{href:"#4-create-an-ihi-integration",children:"Step 4"})," and ensure your IHCOS env is allowed for OAuth callback."]}),"\n",(0,i.jsx)(n.h3,{id:"\ufe0f-i-dont-see-my-connector-in-the-ui",children:"\u26a0\ufe0f I don\u2019t see my connector in the UI"}),"\n",(0,i.jsx)(n.p,{children:"The reason for this might be that some very fresh changes were pushed to either Service3 or Service4, and didn't make it to your local environmet yet."}),"\n",(0,i.jsx)(n.p,{children:"Either should help:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Pull fresh Service3 and Service4 and devspace both. This will sync your local env with the latest version of both services."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Or force the connector to show by adding this line:"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\t<Some hacky code>\n"})}),"\n",(0,i.jsxs)(n.p,{children:["in Service 3 ",(0,i.jsx)(n.code,{children:"path/to/file/to-change.js"})," in ",(0,i.jsx)(n.code,{children:"sampleFunction"}),". This is a dirty way, but it allows your local env to be more independent of whatever happens to Service3 and Service4."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8389:(e,n,o)=>{o.d(n,{A:()=>t});const t=o.p+"assets/images/icollab-auth-error-fcbd269c395912cf64e75087d06f540f.png"},8453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>c});var t=o(6540);const i={},r=t.createContext(i);function s(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);