---
slug: how-to-develop-3p-connectors
title: How To Develop 3P Connectors
---

This is an internal developer how-to guide written at my previous workplace to help engineers set up their local environments for 3P connector development.

It had a lot of sensitive data that I had to edit out, the names of all services are changed and some sections are omitted completely out of respect to my former employer. I hope this guide sample still makes a descriptive portfolio piece ü•π

<!-- truncate -->

üõ†Ô∏è Setup steps üõ†Ô∏è

1. [Update and launch IHCOS](#1-update-and-launch-ihcos)
2. [Enable necessary feature flags in IHCOS](#2-enable-necessary-feature-flags-in-ihcos)
3. [Ensure your IHCOS Connector callback URI is allowed in your connectors Development Application](#3-ensure-your-ihcos-connector-callback-uri-is-allowed-in-your-connectors-development-application)
4. [Create IHI integration](#4-create-ihi-integration)
5. [ommitted]
6. [ommitted]
7. [Run Service 0 in dev mode](#7-run-service0-in-dev-mode)
8. [Devspace Service1](#8-devspace-service1)

üò± Troubleshooting üò±
- [‚ö†Ô∏è I get errors when running connect OAuth flow](#i-get-errors-when-running-connect-oauth-flow)
- [‚ö†Ô∏è I don‚Äôt see my connector in the UI](#i-dont-see-my-connector-in-the-ui)

---

## üõ†Ô∏è Setup steps üõ†Ô∏è

### 1 Update and launch IHCOS

Make sure you have the latest version and no local changes

```
$ IHCOS update
```
Launch with the correct profile

```
$ IHCOS launch -p example-profile
```

This should starts IHI, GIC, Service1 etc. You can check `path-to/service-profile.jsonnet` for reference to see what service has been started.

### 2 Enable necessary feature flags in IHCOS

These are the feature flags needed for connector development:

- `feature_flag1_<connector_name>` - to import it with SDK

- `feature_flag2_<connector_name>`- to make it appear in the UI

For example: for iCollab connector it‚Äôs `feature_flag1_icollab` and `feature_flag2_icollab`

### 3 Ensure your IHCOS Connector callback URI is allowed in your connector‚Äôs Development Application

This will be in different places in different development portals, but should be somewhere around `Authentication > Redirect URI configuration` or similar menu options.

Example for iCollab-based connectors in iCollab portal:

![ICollab mock developer portal](./icollab-dev-portal.png)

Your IHCOS callback URI would look like:

```
https://IHI.uri/example/callback
```

### 4 Create IHI integration

Steps four to six are ommitted, because they reveal a lot of my former employer's internal architecture. They were very nicely described though, code examples, images and everything üòÅ


### 7. Run Service0 in dev mode
If you don't have Service0 set up yet, here is a [handy setup reference](mock.link).

In your terminal, in Service0 directory, run:

```
$ service0 dev --someflag somevalue
```

This will release your changes into your local Service1 (you should see `./path/to/<your-connector>` directory in Service1 once it‚Äôs running).

### 8 Devspace Service1

If you don't have Service1 set up yet, here is a [handy setup reference](mock.link).

In Service1 directory, run:

```
$ devspace somecommand --someflag
```

This will integrate the changes that the previous step introduced.

## üò± Troubleshooting üò±

### ‚ö†Ô∏è I get errors when running connect OAuth flow

If you get an error like this during the OAuth flow process:

![Mock auth error](./icollab-auth-error.png)

go back to [Step 4](#4-create-ihi-integrationstep) and ensure your IHCOS env is allowed for OAuth callback.

### ‚ö†Ô∏è I don‚Äôt see my connector in the UI

Either should help:

- Pull fresh Service3 and Service4 and devspace both.

- Or force the connector to show by adding this line:
```
	<Some hacky code>
```

in Service 3 `path/to/file/to-change.js` in `sampleFunction` function like so:

![Mock example of adding hacky code](./add-hacky-code.png)
